<!doctype html>
<html>
	<head>
		<meta charset="utf-8">
		<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">

<title>JavaScript with Types</title>
		<link rel="stylesheet" href="dist/reset.css">
		<link rel="stylesheet" href="dist/reveal.css">
<link rel="stylesheet" href="dist/theme/white.css" id="theme">
		<!-- Theme used for syntax highlighted code -->
<link rel="stylesheet" href="plugin/highlight/github.min.css" id="highlight-theme"></head>
	<body>
		<div class="reveal">
			<div class="slides">
<section data-markdown  data-auto-animate><textarea data-template>
[comment]: # "markdown: { smartypants: true }"

# JavaScript with Types

A deep dive into TSC & JSDoc with Vanilla JS!

</textarea></section>
<section data-markdown  data-auto-animate><textarea data-template>

Types without Transpilation

</textarea></section>
<section data-markdown  ><textarea data-template>

### Useful Links

<table>

<tr><td>
<small>Slides:
<a href="https://beyondcodebootcamp.github.io/presos/">https://beyondcodebootcamp.github.io/</a></small>
</td></tr>

<tr><td>
<small>Video:
<a href="https://www.youtube.com/watch?v=ID_GOES_HERE">https://youtu.be/ID_GOES_HERE</a></small>
</td></tr>

<tr><td>
<small>Slides Builder:
<a href="https://beyondcodebootcamp.github.io/presos/#quick-start-to-render">MD Slides</a></small>
</td></tr>

</table>

</textarea></section>
<section data-markdown  ><textarea data-template>

AJ ONeal <br>
[@\_beyondcode](https://twitter.com/@_beyondcode) <br>
[youtube.com/coolaj86](https://youtube.com/coolaj86)

</textarea></section>
<section data-markdown  data-auto-animate><textarea data-template>

Dangerous Wrong Thinker

Equal Opportunity Offender

Technophobic Technologist Extraordinair√©

</textarea></section>
<section data-markdown  data-auto-animate><textarea data-template>

Utah Node.js

Utah Rust

[twitch.tv/coolaj86](https://twitch.tv/coolaj86)

</textarea></section>
<section data-markdown  data-auto-animate><textarea data-template>

I ‚ù§Ô∏è üêπ

</textarea></section>
<section data-markdown  data-auto-animate><textarea data-template>

I ‚ù§Ô∏è üêπ

[#golang](https://creedsofcraftsmanship.com)

</textarea></section>
<section data-markdown  data-auto-animate><textarea data-template>

## [Savvi.Legal](https://savvi.legal)

Business Lifecycle Platform \
for Founders & Investors

<small>System of Record, Deal Rooms</small>

<small>(we automate away the stuff founders hate)</small>

</textarea></section>
<section data-markdown  data-auto-animate><textarea data-template>

## [Savvi.Legal](https://savvi.legal)

Wanted:

(Really Good) \
**Frontend Developer**

Contact:

**<aj@savvi.legal>**

</textarea></section>
<section data-markdown  data-auto-animate><textarea data-template>

# JS with Types

TSC & JSDoc with Vanilla JS

</textarea></section>
<section data-markdown  data-auto-animate><textarea data-template>

- https://github.com/giltayar/jsdoc-typing
- https://gils-blog.tayar.org/posts/jsdoc-typings-all-the-benefits-none-of-the-drawbacks/
- https://www.stitcher.com/show/javascript-jabber/episode/typing-without-transpilation-the-beauty-of-jsdoc-jsj-489-84887083

</textarea></section>
<section data-markdown  data-auto-animate><textarea data-template>

Write code that runs in Node, and Browsers.

</textarea></section>
<section data-markdown  data-auto-animate><textarea data-template>

Code without comments looks too terse

</textarea></section>
<section data-markdown  data-auto-animate><textarea data-template>

## The üí∏üí∞ü§ëüíµ üí≤lide

```js
curl https://webinstall.dev/vim-essential | bash

npm install --location=global tsc

npm init
tsc --init
mv tsconfig.json jsconfig.json
```

</textarea></section>
<section data-markdown  data-auto-animate><textarea data-template>

```diff
-    // "typeRoots": [],
+    "typeRoots": ["./typings", "node_modules/@types"],
```

```diff
+  "include": ["types.js", "*.js", "lib/**/*.js", "lib/**/*.d.ts"],
+  "exclude": ["node_modules"]
```

</textarea></section>
<section data-markdown  data-auto-animate><textarea data-template>

`basetag`

```diff
-    // "preserveSymlinks": true,
+    "preserveSymlinks": false,
```

</textarea></section>
<section data-markdown  data-auto-animate><textarea data-template>

```diff
-    "target": "es2021" ,
+    "target": "esnext",
```

`target`: not useful

<small>(gotta check _caniuse_ anyway)</small>

</textarea></section>
<section data-markdown  data-auto-animate><textarea data-template>

```diff
+    "allowJs": true,
+    "checkJs": true,
```

```diff
-    // "noImplicitAny": true,
+    "noImplicitAny": true ,
```

</textarea></section>
<section data-markdown  data-auto-animate><textarea data-template>

## Why JavaScript?

</textarea></section>
<section data-markdown  data-auto-animate><textarea data-template>

## Why JavaScript?

- simplicity (of language)

</textarea></section>
<section data-markdown  data-auto-animate><textarea data-template>

## Why JavaScript?

- simplicity (of language)
- simplicity (of tooling)

</textarea></section>
<section data-markdown  data-auto-animate><textarea data-template>

## Why JavaScript?

- simplicity (of language)
- simplicity (of tooling)
- simplicity (of type system)

</textarea></section>
<section data-markdown  data-auto-animate><textarea data-template>

## Why NOT TypeScript?

- transpiling
- C# heritage (Factory Factory)

</textarea></section>
<section data-markdown  data-auto-animate><textarea data-template>

## Why NOT ES Modules

- horrendous browser support
- horrendous node support

</textarea></section>
<section data-markdown  data-auto-animate><textarea data-template>

## Types of Types

<table>
<tr>
<th><small>Basic</small></th>
<th><small>Collection</small></th>
<th><small>Meta</small></th>
</tr>

<tr>

<td><small>
<ul>
<li>primitives</li>
<li>struct</li>
<li>function</li>
</ul>
</small></td>

<td><small>
<ul>
  <li>key-value pairs</li>
  <li>list</li>
  <li>tuple</li>
</ul>
</small></td>

<td><small>
<ul>
<li>newtypes</li>
<li>type aliases (marker types)</li>
<li>value enums (C-style)</li>
<li>type enums (functional-style)</li>
<li>mixins (JS-style)</li>
</ul>
</small></td>

</tr>
</table>

</textarea></section>
<section data-markdown  data-auto-animate><textarea data-template>

### Primitives

</textarea></section>
<section data-markdown  data-auto-animate><textarea data-template>

### Primitives

- [JSDoc: Tags: @type](https://jsdoc.app/tags-type)
- [TypeScript: Everyday Types](https://www.typescriptlang.org/docs/handbook/2/everyday-types.html)

</textarea></section>
<section data-markdown  data-auto-animate><textarea data-template>

### Primitives

- `"Hello, World!"`
- `0.0`
- `true`

</textarea></section>
<section data-markdown  data-auto-animate><textarea data-template>

### Primitives

- `{BigInt}`
- `{Boolean}`
- `{Number}`
- `{String}`

</textarea></section>
<section data-markdown  data-auto-animate><textarea data-template>

### Primitives

```js
/** @type {String} */
let name;

/** @type {Number} */
let age;

/** @type {Boolean} */
let human;
```

</textarea></section>
<section data-markdown  data-auto-animate><textarea data-template>

### Primitives

- ‚ö†Ô∏è `{Buffer}`
- ‚ö†Ô∏è `{Integer}`

<small>(kinda, but not)</small>

</textarea></section>
<section data-markdown  data-auto-animate><textarea data-template>

### Primitives

- `null`
- `undefined`
- _not defined_

</textarea></section>
<section data-markdown  data-auto-animate><textarea data-template>

### Primitives

- `null`
- `undefined`
- _not defined_

</textarea></section>
<section data-markdown  data-auto-animate><textarea data-template>

### Primitives

- `null` _Nullable_
- `undefined` _Optional_
- _not defined_ _Accessible_

</textarea></section>
<section data-markdown  data-auto-animate><textarea data-template>

### Primitives

- `null` _Nullable_
- `undefined` _Optional_
- _not defined_ _Accessible_

(more a quality, not a type)

</textarea></section>
<section data-markdown  data-auto-animate><textarea data-template>

### Primitives

- `null` _Nullable_
- `undefined` _Optional_
- _not defined_ _Accessible_

(we'll circle back)

</textarea></section>
<section data-markdown  data-auto-animate><textarea data-template>

### Primitives

- _not defined_

```js [1-4]
let age;
let person = {
  age: age,
};

Object.keys(person);
if ('name' in person) { ... }
if ('age' in person) { ... }
for (key of person) { ... }
```

</textarea></section>
<section data-markdown  data-auto-animate><textarea data-template>

### Primitives

- _not defined_

```js [6-10]
let age;
let person = {
  age: age,
};

Object.keys(person);
if ('name' in person) { ... }
if ('age' in person) { ... }
for (key of person) { ... }
```

</textarea></section>
<section data-markdown  data-auto-animate><textarea data-template>

### Primitives

TitleCase vs lowercase

</textarea></section>
<section data-markdown  data-auto-animate><textarea data-template>

### Primitives

TitleCase vs lowercase

```js
/**
 * @typedef {ParentType} ChildType
 */
```

</textarea></section>
<section data-markdown  data-auto-animate><textarea data-template>

### Primitives

TitleCase vs lowercase

```js [1-2]
String(x); // casting
typeof x; // internal table look-up
```

</textarea></section>
<section data-markdown  data-auto-animate><textarea data-template>

### Primitives

```js [1-5]
/**
 * @typedef {Object} Person
 * @property {String?} name
 * @property {Number} [age]
 */
```

</textarea></section>
<section data-markdown  data-auto-animate><textarea data-template>

### Primitives

- ‚ùå Object
- ‚ùå Array
- ‚ùå Function

</textarea></section>
<section data-markdown  data-auto-animate><textarea data-template>

### Primitives

- ‚ùå Buffer
  - <small><em>(ArrayBuffer)</em></small>
- ‚ùå RegExp
  - <small><em>(Object)</em></small>
- ‚ùå Date

</textarea></section>
<section data-markdown  data-auto-animate><textarea data-template>

## newtypes

</textarea></section>
<section data-markdown  data-auto-animate><textarea data-template>

## newtypes

_sub_-type safety

</textarea></section>
<section data-markdown  data-auto-animate><textarea data-template>

## newtypes

```js [1]
let height = 1.87; // meters
let salary = 80_000; // dollars

height * salary;
```

</textarea></section>
<section data-markdown  data-auto-animate><textarea data-template>

## newtypes

```js [2]
let height = 1.87; // meters
let salary = 80_000; // dollars

height * salary;
```

</textarea></section>
<section data-markdown  data-auto-animate><textarea data-template>

## newtypes

```js [4]
let height = 1.87; // meters
let salary = 80_000; // dollars

height * salary;
```

</textarea></section>
<section data-markdown  data-auto-animate><textarea data-template>

## newtypes

# üò¢

No `newtype`s for you

</textarea></section>
<section data-markdown  data-auto-animate><textarea data-template>

## newtypes

# üò¢

No `newtype`s for you

... _yet_

</textarea></section>
<section data-markdown  data-auto-animate><textarea data-template>

## Marker Types

</textarea></section>
<section data-markdown  data-auto-animate><textarea data-template>

## Marker Types

<strong><code>Type `alias`es</strong>

</textarea></section>
<section data-markdown  data-auto-animate><textarea data-template>

## Marker Types

<strong><code>Type `alias`es</strong>

(documentation only)

</textarea></section>
<section data-markdown  data-auto-animate><textarea data-template>

## Marker Types

```js [1]
/** @typedef {Number} Meters */

/** @type {Meters} */
let height = 1.87;
```

</textarea></section>
<section data-markdown  data-auto-animate><textarea data-template>

## Marker Types

```js [3-4]
/** @typedef {Number} Meters */

/** @type {Meters} */
let height = 1.87;
```

</textarea></section>
<section data-markdown  data-auto-animate><textarea data-template>

## Marker Types

# ü•Øü•ñ

a mixed bag

</textarea></section>
<section data-markdown  data-auto-animate><textarea data-template>

## Marker Types

What if `newtype`s get support?

```js [7]
/** @type {Dollars} */
let salary = 80_000;

/** @type {Months} */
let months = 12;

let monthlyWage = salary / months;
```

</textarea></section>
<section data-markdown  data-auto-animate><textarea data-template>

## Marker Types

And when documentation drifts?

```js [1-2]
/** @type {Dollars} */
let salary = 80_000_00;

/** @type {Months} */
let months = 12;

let monthlyWage = Number(salary) / Number(months);
```

</textarea></section>
<section data-markdown  data-auto-animate><textarea data-template>

## ü¶Ü Duck Types

</textarea></section>
<section data-markdown  data-auto-animate><textarea data-template>

## ü¶Ü Duck Types

```js [2-3]
/**
 * @typedef {Object} Person
 * @property {String} name
 */

/**
 * @typedef {Object} Human
 * @property {String} name
 */
```

</textarea></section>
<section data-markdown  data-auto-animate><textarea data-template>

## ü¶Ü Duck Types

```js [7-8]
/**
 * @typedef {Object} Person
 * @property {String} name
 */

/**
 * @typedef {Object} Human
 * @property {String} name
 */
```

</textarea></section>
<section data-markdown  data-auto-animate><textarea data-template>

## ü¶Ü Duck Types

```js [3,8]
/**
 * @typedef {Object} Person
 * @property {String} name
 */

/**
 * @typedef {Object} Human
 * @property {String} name
 */
```

<!-- to preload the image -->

<img src="https://i.imgur.com/yKclWMq.jpg" alt="Oprah's Everyone Gets a Car" width="0%" />

</textarea></section>
<section data-markdown  data-auto-animate><textarea data-template>

## ü¶Ü Duck Types

Everything's an Interface!

<img src="https://i.imgur.com/yKclWMq.jpg" alt="Oprah's Everyone Gets a Car" width="60%" />

</textarea></section>
<section data-markdown  data-auto-animate><textarea data-template>

## ü¶Ü Duck Types

Everything's an Interface!

# üêπ

</textarea></section>
<section data-markdown  data-auto-animate><textarea data-template>

## Why Types?

- avoid typos
- hinting (auto-completion)

```js
function getPerson(name) {
  return {
    name: name,
  };
}

let p = getPerson("name");
p.nmea = "James"; // üö® error
p.age = 42; // üö® error
```

```js
function getPerson(name) {
  return {
    name: name,
    age: 0,
  };
}

let p = getPerson("name");
p.name = "James";
p.age = 42;
```

```js
var answer = "42";
var answer = parseInt(answer, 10);
```

</textarea></section>
<section data-markdown  ><textarea data-template>

Like, Sub, & Follow

<small>(if you wannu)</small>

</textarea></section>
<section data-markdown  ><textarea data-template>

Q&A

</textarea></section>
<section data-markdown  ><textarea data-template>

Thanks.

</textarea></section>
<section data-markdown ><textarea data-template>

FIN
</textarea></section>
			</div>
		</div>

		<script src="dist/reveal.js"></script>
		<script src="plugin/notes/notes.js"></script>
		<script src="plugin/markdown/markdown.js"></script>
		<script src="plugin/highlight/highlight.js"></script>
		<script src="plugin/math/math.js"></script>
		<script>
			// More info about initialization & config:
			// - https://revealjs.com/initialization/
			// - https://revealjs.com/config/
Reveal.initialize({
controls : false,
markdown : {smartypants: true},
controls : false,
keyboard : true,
hash : false,
respondToHashChanges : false,
				hash: true,
				// Learn about plugins: https://revealjs.com/plugins/
				plugins: [ RevealMarkdown, RevealHighlight, RevealNotes, RevealMath ]
			});
		</script>
	</body>
</html>
